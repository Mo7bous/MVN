<html><head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Formulaire de Candidature</title>
<script src="https://platform.linkedin.com/in.js" type="text/javascript">
    api_key: YOUR_API_KEY
    authorize: true
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
<script>
   (function(){
      emailjs.init("YOUR_PUBLIC_KEY"); 
   })();
</script>
<style>
:root {
    --primary: #003366;
    --secondary: #9a9838;
    --dark: #1B1B1B;
    --light: #F5F5F5;
    --white: rgb(242, 243, 237);
    --accent: #4A4A4A;
}

body {
  font-family: Arial, sans-serif;
  line-height: 1.6;
  margin: 0;
  padding: 20px;
  background-color: var(--light);
}

.container {
  max-width: 800px;
  margin: 0 auto;
  background: white;
  padding: 30px;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  position: relative; 
  z-index: 1; 
}

.close-btn {
    position: absolute;
    top: 20px;
    right: 20px;
    background: none;
    border: none;
    cursor: pointer;
    padding: 8px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.3s ease;
    z-index: 1000;
}

.close-btn:hover {
    background-color: rgba(0, 0, 0, 0.1);
}

.close-icon {
    fill: var(--primary);
}

.return-btn,
.return-btn:hover,
.return-icon {
    display: none;
}

.intro-section {
    background: var(--white);
    padding: 40px 0;
    margin-bottom: 30px;
    border-radius: 8px;
}

.intro-header {
    text-align: center;
    color: var(--primary);
    margin-bottom: 30px;
}

.intro-image {
    width: 100%;
    height: 300px;
    object-fit: cover;
    border-radius: 8px;
    margin-bottom: 30px;
}

.benefits-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 20px;
    padding: 20px;
}

.benefit-card {
    background: var(--white);
    padding: 20px;
    border-radius: 8px;
    text-align: center;
    transition: transform 0.3s ease;
}

.benefit-card:hover {
    transform: translateY(-5px);
}

.benefit-icon {
    font-size: 40px;
    color: var(--secondary);
    margin-bottom: 15px;
}

.benefit-title {
    color: var(--primary);
    margin-bottom: 10px;
    font-weight: bold;
}

.benefit-description {
    color: var(--accent);
    font-size: 0.9em;
    line-height: 1.6;
}

h1 {
  text-align: center;
  color: #333;
  margin-bottom: 30px;
}

.form-section {
  margin-bottom: 25px;
}

.form-section h2 {
  color: #2196F3;
  font-size: 1.2rem;
  margin-bottom: 15px;
  padding-bottom: 5px;
  border-bottom: 2px solid #2196F3;
}

.form-group {
  margin-bottom: 15px;
}

label {
  display: block;
  margin-bottom: 5px;
  font-weight: bold;
}

input[type="text"],
input[type="email"],
input[type="tel"],
input[type="date"],
input[type="number"],
select,
textarea {
  width: 100%;
  padding: 8px;
  border: 1px solid #ddd;
  border-radius: 4px;
  box-sizing: border-box;
}

textarea {
  height: 100px;
  resize: vertical;
}

.submit-btn {
  background-color: #2196F3;
  color: white;
  padding: 12px 20px;
  border: none;
  border-radius: 4px;
  cursor: pointer;
  width: 100%;
  font-size: 16px;
}

.submit-btn:hover {
  background-color: #1976D2;
}

.linkedin-btn {
    background-color: #0077b5;
    color: white;
    padding: 12px 20px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
    width: 100%;
    font-size: 16px;
    margin-bottom: 20px;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 10px;
}

.linkedin-btn:hover {
    background-color: #006097;
}

.linkedin-icon {
    width: 20px;
    height: 20px;
    fill: currentColor;
}

.or-divider {
    text-align: center;
    margin: 20px 0;
    position: relative;
}

.or-divider::before,
.or-divider::after {
    content: '';
    position: absolute;
    top: 50%;
    width: 45%;
    height: 1px;
    background-color: #ddd;
}

.or-divider::before {
    left: 0;
}

.or-divider::after {
    right: 0;
}

.file-upload {
    position: relative;
    display: inline-block;
    width: 100%;
    margin-bottom: 15px;
}

.file-upload-label {
    display: flex;
    align-items: center;
    gap: 10px;
    background-color: #f5f5f5;
    padding: 10px;
    border: 2px dashed #ddd;
    border-radius: 4px;
    cursor: pointer;
    text-align: center;
    transition: all 0.3s ease;
}

.file-upload-label:hover {
    border-color: #2196F3;
    background-color: #e3f2fd;
}

.file-upload input[type="file"] {
    display: none;
}

.file-name {
    margin-top: 5px;
    font-size: 0.9em;
    color: #666;
}

.file-upload-icon {
    width: 24px;
    height: 24px;
    fill: #666;
}

.invalid-file {
    border-color: #ff0000;
    animation: shake 0.5s linear;
}

@keyframes shake {
    0%, 100% { transform: translateX(0); }
    25% { transform: translateX(-10px); }
    75% { transform: translateX(10px); }
}

.terms-box {
  background-color: var(--white);
  padding: 20px;
  border: 1px solid #ddd;
  border-radius: 4px;
  margin-bottom: 15px;
  max-height: 300px;
  overflow-y: auto;
}

.terms-box p, .terms-box ul, .terms-box ol {
  margin-bottom: 15px;
  color: var(--accent);
}

.terms-box ul, .terms-box ol {
  padding-left: 20px;
}

.terms-box li {
  margin-bottom: 5px;
}

.checkbox-label {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  font-weight: normal;
}

.checkbox-label input[type="checkbox"] {
  margin-top: 3px;
}

.spinner {
  animation: rotate 2s linear infinite;
  width: 20px;
  height: 20px;
  margin-right: 10px;
}

.spinner circle {
  stroke: #ffffff;
  stroke-width: 4;
  stroke-linecap: round;
  fill: none;
  animation: dash 1.5s ease-in-out infinite;
}

@keyframes rotate {
  100% { transform: rotate(360deg); }
}

@keyframes dash {
  0% {
    stroke-dasharray: 1, 150;
    stroke-dashoffset: 0;
  }
  50% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -35;
  }
  100% {
    stroke-dasharray: 90, 150;
    stroke-dashoffset: -124;
  }
}

.validation-message {
  color: #ff0000;
  font-size: 0.8em;
  margin-top: 5px;
}

.invalid {
  border-color: #ff0000 !important;
}

@media (max-width: 600px) {
  .container {
    padding: 15px;
  }
  
  .benefits-grid {
    grid-template-columns: 1fr;
    gap: 15px;
    padding: 10px;
  }
  
  .intro-image {
    height: 200px;
  }
  
  .benefit-card {
    padding: 15px;
  }
  
  .intro-header {
    font-size: 1.5rem;
    padding: 0 10px;
  }
  
  .benefit-description {
    font-size: 0.85em;
  }
  
  .form-section h2 {
    font-size: 1.1rem;
  }
  
  .return-btn {
    font-size: 0.9rem;
    padding: 8px 15px;
  }

  .terms-box {
    padding: 15px;
    max-height: 250px;
  }
}
</style>
</head>
<body>
  <div class="container">
    <button class="close-btn">
        <svg class="close-icon" width="24" height="24" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
        </svg>
    </button>
    
    <div class="intro-section">
        <h2 class="intro-header">Rejoignez Notre Équipe de Consultants</h2>
        
        <img src="https://images.unsplash.com/photo-1600880292203-757bb62b4baf?ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80" 
             alt="Équipe professionnelle en réunion" 
             class="intro-image"
             width="1350" 
             height="300">

        <div class="benefits-grid">
            <div class="benefit-card">
                <div class="benefit-icon">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M20 6h-3V4c0-1.1-.9-2-2-2H9c-1.1 0-2 .9-2 2v2H4c-1.1 0-2 .9-2 2v11c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zM9 4h6v2H9V4zm11 15H4V8h16v11z"/>
                    </svg>
                </div>
                <h3 class="benefit-title">Projets Passionnants</h3>
                <p class="benefit-description">Travaillez sur des projets innovants avec des clients internationaux.</p>
            </div>

            <div class="benefit-card">
                <div class="benefit-icon">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 3h-4.18C14.4 1.84 13.3 1 12 1c-1.3 0-2.4.84-2.82 2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-7 0c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zm0 4c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm6 12H6v-1.4c0-2 4-3.1 6-3.1s6 1.1 6 3.1V19z"/>
                    </svg>
                </div>
                <h3 class="benefit-title">Développement Professionnel</h3>
                <p class="benefit-description">Formation continue et accompagnement personnalisé pour votre évolution.</p>
            </div>

            <div class="benefit-card">
                <div class="benefit-icon">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                    </svg>
                </div>
                <h3 class="benefit-title">Avantages Attractifs</h3>
                <p class="benefit-description">Package compétitif incluant bonus, assurance santé et autres avantages.</p>
            </div>
            
            <div class="benefit-card">
                <div class="benefit-icon">
                    <svg width="40" height="40" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M16 6l2.29 2.29-4.88 4.88-4-4L2 16.59 3.41 18l6-6 4 4 6.3-6.29L22 12V6z"/>
                    </svg>
                </div>
                <h3 class="benefit-title">Équilibre Travail-Vie</h3>
                <p class="benefit-description">Flexibilité horaire et possibilité de télétravail pour un meilleur équilibre professionnel.</p>
            </div>
        </div>
    </div>

    <h1>Formulaire de Candidature</h1>
    
    <button id="linkedinLogin" class="linkedin-btn">
      <svg class="linkedin-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
        <path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"/>
      </svg>
      Postuler avec LinkedIn
    </button>

    <div class="or-divider">OU</div>

    <form id="jobApplication" onsubmit="return validateForm(event)">
      
      <div class="form-section">
        <h2>Informations Personnelles</h2>
        <div class="form-group">
          <label for="fullName">Nom Complet *</label>
          <input type="text" id="fullName" name="fullName" required>
        </div>
        
        <div class="form-group">
          <label for="email">Adresse Email *</label>
          <input type="email" id="email" name="email" required data-validation="email">
        </div>
        
        <div class="form-group">
          <label for="phone">Numéro de Téléphone *</label>
          <input type="tel" id="phone" name="phone" required data-validation="phone">
        </div>
        
        <div class="form-group">
          <label for="dob">Date de Naissance *</label>
          <input type="date" id="dob" name="dob" required>
        </div>
        
        <div class="form-group">
          <label for="address">Adresse Actuelle *</label>
          <textarea id="address" name="address" required></textarea>
        </div>
      </div>

      <div class="form-section">
        <h2>Formation</h2>
        <div class="form-group">
          <label for="highestEducation">Niveau d'Études *</label>
          <select id="highestEducation" name="highestEducation" required>
            <option value="">Sélectionnez un niveau</option>
            <option value="high-school">Baccalauréat</option>
            <option value="bachelors">Licence</option>
            <option value="masters">Master</option>
            <option value="phd">Doctorat</option>
            <option value="other">Autre</option>
          </select>
        </div>
        
        <div class="form-group">
          <label for="institution">Nom de l'Établissement *</label>
          <input type="text" id="institution" name="institution" required>
        </div>
        
        <div class="form-group">
          <label for="graduationYear">Année d'Obtention *</label>
          <input type="number" id="graduationYear" name="graduationYear" min="1960" max="2024" required>
        </div>
      </div>

      <div class="form-section">
        <h2>Expérience Professionnelle</h2>
        <div class="form-group">
          <label for="experience">Années d'Expérience *</label>
          <input type="number" id="experience" name="experience" min="0" required>
        </div>
        
        <div class="form-group">
          <label for="recentEmployer">Dernier Employeur</label>
          <input type="text" id="recentEmployer" name="recentEmployer">
        </div>
        
        <div class="form-group">
          <label for="skills">Compétences *</label>
          <textarea id="skills" name="skills" placeholder="Listez vos compétences pertinentes..." required></textarea>
        </div>
      </div>

      <div class="form-section">
        <h2>Informations Complémentaires</h2>
        <div class="form-group">
          <label for="coverletter">Lettre de Motivation *</label>
          <textarea id="coverletter" name="coverletter" placeholder="Parlez-nous de vous et de votre intérêt pour ce poste..." required></textarea>
        </div>
      </div>

      <div class="form-section">
        <h2>Documents</h2>
        <div class="form-group">
          <label>CV (Format PDF uniquement) *</label>
          <div class="file-upload">
            <label for="resume" class="file-upload-label">
              <svg class="file-upload-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                <path d="M9 16h6v-6h4l-7-7-7 7h4v6zm-4 2h14v2H5v-2z"/>
              </svg>
              <span>Choisissez un fichier PDF ou glissez-le ici</span>
            </label>
            <input type="file" id="resume" name="resume" accept=".pdf" required>
            <div class="file-name"></div>
          </div>
        </div>
      </div>

      <div class="form-section">
        <h2>Termes et Conditions</h2>
        <div class="form-group">
          <div class="terms-box">
            <p><strong>Morocco Venture Network SARL</strong><br>
            Siège social : Tour Atlas, Rue Atlas, Casablanca 20250, Maroc<br>
            RC : 123456 - IF : 789101112<br>
            CNSS : 1314151617</p>

            <p>Morocco Venture Network SARL est une société de conseil spécialisée dans la transformation digitale et les services IT, établie au Maroc depuis 2018. Nous accompagnons les entreprises marocaines et internationales dans leur développement technologique.</p>

            <p><strong>Services principaux :</strong></p>
            <ul>
              <li>Conseil en transformation digitale</li>
              <li>Développement de solutions IT sur mesure</li>
              <li>Gestion de projets technologiques</li>
              <li>Formation et accompagnement</li>
            </ul>

            <p><strong>Conditions de candidature :</strong></p>
            <ol>
              <li>Les informations fournies dans ce formulaire doivent être exactes et véritables.</li>
              <li>Le candidat doit être légalement autorisé à travailler au Maroc.</li>
              <li>Les documents fournis doivent être authentiques et à jour.</li>
              <li>Morocco Venture Network se réserve le droit de vérifier toutes les informations fournies.</li>
            </ol>

            <p><strong>Protection des données :</strong><br>
            Les données personnelles collectées sont utilisées uniquement dans le cadre du processus de recrutement, conformément à la loi 09-08 relative à la protection des personnes physiques à l'égard des traitements des données à caractère personnel.</p>
          </div>
          <div class="form-group">
            <label class="checkbox-label">
              <input type="checkbox" id="termsAccept" name="termsAccept" required>
              J'accepte les termes et conditions ci-dessus *
            </label>
          </div>
        </div>
      </div>

      <button type="submit" class="submit-btn">Envoyer la Candidature</button>
    </form>
  </div>

  <script>
    function generatePDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();
      
      // Header styling
      doc.setDrawColor(0, 51, 102);
      doc.setLineWidth(0.5);
      doc.line(20, 25, 190, 25);
      
      // Company Logo/Header
      doc.setFont("helvetica", "bold");
      doc.setFontSize(22);
      doc.setTextColor(0, 51, 102);
      doc.text("Morocco Venture Network SARL", 20, 20);
      
      // Reference number and date
      doc.setFontSize(10);
      doc.setTextColor(74, 74, 74);
      const refNumber = `REF: WK${new Date().getFullYear()}${String(new Date().getMonth() + 1).padStart(2, '0')}${String(Math.floor(Math.random() * 1000)).padStart(3, '0')}`;
      doc.text(refNumber, 140, 15);
      doc.text(`Date: ${new Date().toLocaleDateString('fr-FR')}`, 140, 20);

      let yPos = 40;

      // Document Title
      doc.setFont("helvetica", "bold");
      doc.setFontSize(18);
      doc.setTextColor(0, 51, 102);
      doc.text("FORMULAIRE DE CANDIDATURE", 20, yPos);
      yPos += 15;

      // Sections with proper formatting
      const addSection = (title, content) => {
        doc.setFont("helvetica", "bold");
        doc.setFontSize(14);
        doc.setTextColor(0, 51, 102);
        doc.text(title, 20, yPos);
        yPos += 8;
        
        doc.setFont("helvetica", "normal");
        doc.setFontSize(11);
        doc.setTextColor(0, 0, 0);
        
        if (Array.isArray(content)) {
          content.forEach(item => {
            doc.text(item, 25, yPos);
            yPos += 6;
          });
        } else {
          doc.text(content, 25, yPos);
          yPos += 6;
        }
        yPos += 5;
      };

      // Personal Information Section
      addSection("1. INFORMATIONS PERSONNELLES", [
        `Nom Complet: ${document.getElementById('fullName').value}`,
        `Email: ${document.getElementById('email').value}`,
        `Téléphone: ${document.getElementById('phone').value}`,
        `Date de Naissance: ${document.getElementById('dob').value}`,
        `Adresse: ${document.getElementById('address').value}`
      ]);

      // Education Section
      addSection("2. FORMATION", [
        `Niveau d'Études: ${document.getElementById('highestEducation').value}`,
        `Institution: ${document.getElementById('institution').value}`,
        `Année d'Obtention: ${document.getElementById('graduationYear').value}`
      ]);

      // Professional Experience Section (Enhanced)
      addSection("3. EXPÉRIENCE PROFESSIONNELLE", [
        `Années d'Expérience: ${document.getElementById('experience').value}`,
        `Dernier Employeur: ${document.getElementById('recentEmployer').value}`,
        `Compétences: ${document.getElementById('skills').value}`
      ]);

      // Additional Information Section
      addSection("4. INFORMATIONS COMPLÉMENTAIRES", [
        `Lettre de Motivation:`,
        document.getElementById('coverletter').value
      ]);

      // Documents Section
      const resumeFile = document.getElementById('resume').files[0];
      addSection("5. DOCUMENTS JOINTS", [
        `CV: ${resumeFile ? resumeFile.name : 'Aucun document joint'}`,
        `Format: PDF`,
        `Taille: ${resumeFile ? Math.round(resumeFile.size / 1024) + ' KB' : 'N/A'}`
      ]);

      // If getting close to page bottom, add new page
      if (yPos > 250) {
        doc.addPage();
        yPos = 20;
      }

      // New page for Terms and Conditions
      doc.addPage();
      
      // Terms and Conditions Section
      doc.setFont("helvetica", "bold");
      doc.setFontSize(16);
      doc.setTextColor(0, 51, 102);
      doc.text("TERMES ET CONDITIONS", 20, 20);
      
      doc.setFont("helvetica", "normal");
      doc.setFontSize(10);
      doc.setTextColor(0, 0, 0);
      const terms = document.querySelector('.terms-box').innerText;
      doc.text(terms, 20, 35, { maxWidth: 170 });

      // Signature Section
      yPos = 230;
      doc.setFont("helvetica", "bold");
      doc.setFontSize(12);
      doc.text("SIGNATURES", 20, yPos);
      yPos += 10;

      // Signature boxes
      doc.setDrawColor(0, 51, 102);
      doc.setLineWidth(0.5);

      // Candidate signature
      doc.setFont("helvetica", "normal");
      doc.setFontSize(10);
      doc.text("Le Candidat:", 20, yPos);
      doc.line(20, yPos + 25, 90, yPos + 25);
      
      // Company signature
      doc.text("Pour Morocco Venture Network SARL:", 110, yPos);
      doc.line(110, yPos + 25, 180, yPos + 25);

      // Footer
      doc.setFont("helvetica", "italic");
      doc.setFontSize(8);
      doc.text("Morocco Venture Network SARL - Tour Atlas, Rue Atlas, Casablanca 20250, Maroc", 20, 280);
      doc.text("RC: 123456 - IF: 789101112 - CNSS: 1314151617", 20, 285);

      // Rest of the code remains the same
      const pdfBase64 = doc.output('datauristring');
      
      emailjs.send("YOUR_SERVICE_ID", "YOUR_TEMPLATE_ID", {
        to_email: "moh.boussati@gmail.com",
        from_name: document.getElementById('fullName').value,
        message: "Nouvelle candidature reçue",
        pdf_attachment: pdfBase64
      }).then(
        function(response) {
          console.log("Email sent successfully", response);
          alert('Votre candidature a été envoyée avec succès!');
        },
        function(error) {
          console.log("Failed to send email", error);
          alert('Une erreur est survenue lors de l\'envoi. Veuillez réessayer.');
        }
      );

      doc.save('Candidature_WeKynf.pdf');
    }

    function validateForm(event) {
      event.preventDefault();
      
      const form = document.getElementById('jobApplication');
      const submitBtn = form.querySelector('.submit-btn');
      
      if (form.checkValidity()) {
        submitBtn.disabled = true;
        submitBtn.innerHTML = '<svg class="spinner" viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle></svg> Génération du PDF...';
        
        setTimeout(() => {
          generatePDF();
          submitBtn.disabled = false;
          submitBtn.innerHTML = 'Envoyer la Candidature';
        }, 2000);
      } else {
        Array.from(form.elements).forEach(element => {
          if (!element.validity.valid) {
            element.classList.add('invalid');
            const message = element.nextElementSibling?.classList.contains('validation-message') ? 
              element.nextElementSibling :
              document.createElement('div');
            message.className = 'validation-message';
            message.textContent = validationMessages[element.dataset.validation || 'required'];
            if (!element.nextElementSibling?.classList.contains('validation-message')) {
              element.parentNode.insertBefore(message, element.nextElementSibling);
            }
          }
        });
      }
      
      return false;
    }

    const validationMessages = {
      required: "Ce champ est obligatoire",
      email: "Veuillez entrer une adresse email valide",
      phone: "Veuillez entrer un numéro de téléphone valide",
      pdf: "Seuls les fichiers PDF sont acceptés"
    };

    const fileInput = document.getElementById('resume');
    const fileLabel = document.querySelector('.file-upload-label');
    const fileName = document.querySelector('.file-name');

    fileInput.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (file) {
            if (file.type === 'application/pdf') {
                fileName.textContent = file.name;
                fileLabel.classList.remove('invalid-file');
            } else {
                fileInput.value = '';
                fileName.textContent = 'Veuillez sélectionner un fichier PDF';
                fileLabel.classList.add('invalid-file');
            }
        } else {
            fileName.textContent = '';
        }
    });

    fileLabel.addEventListener('dragover', function(e) {
        e.preventDefault();
        fileLabel.classList.add('dragover');
    });

    fileLabel.addEventListener('dragleave', function(e) {
        e.preventDefault();
        fileLabel.classList.remove('dragover');
    });

    fileLabel.addEventListener('drop', function(e) {
        e.preventDefault();
        fileLabel.classList.remove('dragover');
        const file = e.dataTransfer.files[0];
        if (file && file.type === 'application/pdf') {
            fileInput.files = e.dataTransfer.files;
            fileName.textContent = file.name;
            fileLabel.classList.remove('invalid-file');
        } else {
            fileName.textContent = 'Veuillez sélectionner un fichier PDF';
            fileLabel.classList.add('invalid-file');
        }
    });

    document.querySelector('.close-btn').addEventListener('click', function() {
        window.location.href = 'index.html';
    });
  </script>
</body>
</html>